<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="theme-color" content="#0078E7"><meta name="author" content="崬少"><meta name="copyright" content="崬少"><meta name="generator" content="Hexo 4.2.1"><meta name="theme" content="hexo-theme-yun"><title>SFWRTECH 3IT3 Lab #1 Layer 3 and 4 Protocols | 崬少的小站</title><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@900&amp;family=Source+Code+Pro&amp;display=swap" media="none" onload="this.media='all'"><script src="//at.alicdn.com/t/font_1140697_pem9yni52s.js" async></script><script src="https://cdn.jsdelivr.net/npm/scrollreveal/dist/scrollreveal.min.js" defer></script><script>document.addEventListener("DOMContentLoaded", () => {
  [".post-card",".post-content img"].forEach((target)=> {
    ScrollReveal().reveal(target);
  })
});
</script><link rel="shortcut icon" type="image/svg+xml" href="/yun.svg"><link rel="mask-icon" href="/yun.svg" color="#0078E7"><link rel="alternate icon" href="/yun.ico"><link rel="preload" href="/css/hexo-theme-yun.css" as="style"><link rel="preload" href="/js/utils.js" as="script"><link rel="preload" href="/js/hexo-theme-yun.js" as="script"><link rel="prefetch" href="/js/sidebar.js" as="script"><link rel="dns-prefetch" href="https://cos.yunyoujun.cn"><link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin><link rel="stylesheet" href="/css/hexo-theme-yun.css"><link rel="alternate" href="/atom.xml" title="崬少的小站"><script id="yun-config">
    const Yun = window.Yun || {};
    window.CONFIG = {"root":"/","title":"云游君的小站","version":"0.8.1","anonymous_image":"https://cdn.jsdelivr.net/gh/YunYouJun/cdn/img/avatar/none.jpg","say":{"api":"https://v1.hitokoto.cn","hitokoto":true},"algolia":{"appID":"CJXXAGRCYN","apiKey":"ae1966d2aeab22bf9335679f45d2cd9a","indexName":"my-hexo-blog","hits":{"per_page":8},"labels":{"input_placeholder":"搜索文章","hits_empty":"找不到您查询的内容: ${query}","hits_stats":"找到 ${hits} 条结果，用时 ${time} 毫秒"}},"fireworks":{"colors":["102, 167, 221","62, 131, 225","33, 78, 194"]}};
  </script><link rel="preconnect" href="https://www.google-analytics.com" crossorigin><link rel="preconnect" href="https://stats.g.doubleclick.net" crossorigin><script async src="https://www.googletagmanager.com/gtag/js?id=UA-121354150-1"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-121354150-1');</script><script data-ad-client="ca-pub-2245427233262012" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script>(function(){
  var bp = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  if (curProtocol === 'https') {
    bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
  }
  else {
    bp.src = 'http://push.zhanzhang.baidu.com/push.js';
  }
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(bp, s);
})();</script><!-- Google Tag Manager --><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-M9KWR9L');</script><!-- End Google Tag Manager --><meta name="description" content="Course section: SFWRTECH 3IT3:Fundamentals of Networking - SFWRTECH_3IT3_poonh_2205 SFWRTECH 3IT3 – Fundamentals of NetworkingLab #1: Layer 3 and 4 ProtocolsFollowing &amp; Answers Record">
<meta property="og:type" content="article">
<meta property="og:title" content="SFWRTECH 3IT3 Lab #1 Layer 3 and 4 Protocols">
<meta property="og:url" content="https://zhujiandong.cn/2020/05/28/SFWRTECH-3IT3-Lab-1-Layer-3-and-4-Protocols/index.html">
<meta property="og:site_name" content="崬少的小站">
<meta property="og:description" content="Course section: SFWRTECH 3IT3:Fundamentals of Networking - SFWRTECH_3IT3_poonh_2205 SFWRTECH 3IT3 – Fundamentals of NetworkingLab #1: Layer 3 and 4 ProtocolsFollowing &amp; Answers Record">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2020-05-28T10:05:40.000Z">
<meta property="article:modified_time" content="2020-05-28T10:05:40.000Z">
<meta property="article:author" content="崬少">
<meta property="article:tag" content="SFWRTECH 3IT3">
<meta name="twitter:card" content="summary"><script src="/js/ui/mode.js"></script><link rel="alternate" href="/atom.xml" title="崬少的小站" type="application/atom+xml">
</head><body><script defer src="https://cdn.jsdelivr.net/npm/animejs@latest/anime.min.js"></script><script defer src="/js/ui/fireworks.js"></script><canvas class="fireworks"></canvas><div class="container"><a class="sidebar-toggle sidebar-toggle-fixed hty-icon-button"><div class="hamburger hamburger--spin" type="button"><span class="hamburger-box"><span class="hamburger-inner"></span></span></div></a><aside class="sidebar"><script defer src="/js/sidebar.js"></script><ul class="sidebar-nav"><li class="sidebar-nav-item sidebar-nav-toc hty-icon-button sidebar-nav-active" data-target="post-toc-wrap" title="文章目录"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-list-ordered"></use></svg></li><li class="sidebar-nav-item sidebar-nav-overview hty-icon-button" data-target="site-overview-wrap" title="站点概览"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-passport-line"></use></svg></li></ul><div class="sidebar-panel" id="site-overview-wrap"><div class="site-info fix-top"><a class="site-author-avatar" href="/about/" title="崬少"><img width="96" loading="lazy" src="/images/avatar.jpg" alt="崬少"></a><div class="site-author-name"><a href="/about/">崬少</a></div><a class="site-name" href="/about/site.html">崬少的小站</a><sub class="site-subtitle">希望能成为一个有趣的人</sub><div class="site-desciption"></div></div><nav class="site-state"><a class="site-state-item hty-icon-button icon-home" href="/" title="首页"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-home-4-line"></use></svg></span></a><div class="site-state-item site-state-posts"><a href="/archives/" title="归档"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-archive-line"></use></svg></span><span class="site-state-item-count">124</span></a></div><div class="site-state-item site-state-categories"><a href="/categories/" title="分类"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-folder-2-line"></use></svg></span><span class="site-state-item-count">24</span></a></div><div class="site-state-item site-state-tags"><a href="/tags/" title="标签"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-price-tag-3-line"></use></svg></span><span class="site-state-item-count">92</span></a></div><a class="site-state-item hty-icon-button" href="/about/#comment" title="留言板"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-clipboard-line"></use></svg></span></a></nav><hr style="margin-bottom:0.5rem"><div class="links-of-author"><a class="links-of-author-item hty-icon-button" rel="noopener" href="/atom.xml" title="RSS" target="_blank" style="color:orange"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-rss-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://wpa.qq.com/msgrd?v=3&amp;uin=910426929&amp;site=qq&amp;menu=yes" title="QQ" target="_blank" style="color:#12B7F5"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-qq-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://github.com/YunYouJun" title="GitHub" target="_blank" style="color:#6e5494"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-github-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://weibo.com/jizhideyunyoujun" title="微博" target="_blank" style="color:#E6162D"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-weibo-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://www.douban.com/people/yunyoujun/" title="豆瓣" target="_blank" style="color:#007722"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-douban-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://music.163.com/#/user/home?id=247102977" title="网易云音乐" target="_blank" style="color:#C20C0C"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-netease-cloud-music-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://www.zhihu.com/people/yunyoujun/" title="知乎" target="_blank" style="color:#0084FF"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-zhihu-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://space.bilibili.com/1579790" title="哔哩哔哩" target="_blank" style="color:#FF8EB3"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-bilibili-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://twitter.com/YunYouJun" title="Twitter" target="_blank" style="color:#1da1f2"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-twitter-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://t.me/elpsycn" title="Telegram Channel" target="_blank" style="color:#0088CC"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-telegram-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="mailto:me@yunyoujun.cn" title="E-Mail" target="_blank" style="color:#8E71C1"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-mail-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://travellings.now.sh/" title="Travelling" target="_blank" style="color:var(--hty-text-color)"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-send-plane-2-line"></use></svg></a></div><hr style="margin:0.5rem 1rem"><div class="links"><a class="links-item hty-icon-button" href="/links/" title="我的小伙伴们" style="color:dodgerblue"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-genderless-line"></use></svg></a><a class="links-item hty-icon-button" href="/girls/" title="喜欢的女孩子" style="color:hotpink"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-women-line"></use></svg></a></div><br><a class="links-item hty-icon-button" id="toggle-mode-btn" href="javascript:;" title="Mode" style="color: #f1cb64"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-contrast-2-line"></use></svg></a></div><div class="sidebar-panel sidebar-panel-active" id="post-toc-wrap"><div class="post-toc"><div class="post-toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#VM"><span class="toc-number">1.</span> <span class="toc-text">VM</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Step-8"><span class="toc-number">1.1.</span> <span class="toc-text">Step 8</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Step-9"><span class="toc-number">1.2.</span> <span class="toc-text">Step 9</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Step-12"><span class="toc-number">1.3.</span> <span class="toc-text">Step 12</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Step-13"><span class="toc-number">1.4.</span> <span class="toc-text">Step 13</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Step-14"><span class="toc-number">1.5.</span> <span class="toc-text">Step 14</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Step-15"><span class="toc-number">1.6.</span> <span class="toc-text">Step 15</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Step-19"><span class="toc-number">1.7.</span> <span class="toc-text">Step 19</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Step-20"><span class="toc-number">1.8.</span> <span class="toc-text">Step 20</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Step-21"><span class="toc-number">1.9.</span> <span class="toc-text">Step 21</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Step-22"><span class="toc-number">1.10.</span> <span class="toc-text">Step 22</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Step-23"><span class="toc-number">1.11.</span> <span class="toc-text">Step 23</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Step-24"><span class="toc-number">1.12.</span> <span class="toc-text">Step 24</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Step-25"><span class="toc-number">1.13.</span> <span class="toc-text">Step 25</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Step-26"><span class="toc-number">1.14.</span> <span class="toc-text">Step 26</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Step-27"><span class="toc-number">1.15.</span> <span class="toc-text">Step 27</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Step-28"><span class="toc-number">1.16.</span> <span class="toc-text">Step 28</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Step-29"><span class="toc-number">1.17.</span> <span class="toc-text">Step 29</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Post-Lab-Questions"><span class="toc-number">1.18.</span> <span class="toc-text">Post-Lab Questions</span></a></li></ol></li></ol></div></div></div></aside><main class="sidebar-translate" id="content"><div id="post"><article class="post-block" itemscope itemtype="https://schema.org/Article"><link itemprop="mainEntityOfPage" href="https://zhujiandong.cn/2020/05/28/SFWRTECH-3IT3-Lab-1-Layer-3-and-4-Protocols/"><span hidden itemprop="author" itemscope itemtype="https://schema.org/Person"><meta itemprop="name" content="崬少"><meta itemprop="description"></span><span hidden itemprop="publisher" itemscope itemtype="https://schema.org/Organization"><meta itemprop="name" content="崬少的小站"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">SFWRTECH 3IT3 Lab #1 Layer 3 and 4 Protocols<a class="post-edit-link" href="https://github.com/YunYouJun/yunyoujun.github.io/tree/hexo/source/_posts/SFWRTECH-3IT3-Lab-1-Layer-3-and-4-Protocols.md" target="_blank" title="编辑" rel="noopener"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-edit-line"></use></svg></a></h1><div class="post-meta"><div class="post-time" style="display:block"><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-calendar-line"></use></svg></span> <time title="创建时间：2020-05-28 18:05:40" itemprop="dateCreated datePublished" datetime="2020-05-28T18:05:40+08:00">2020-05-28</time></div><span class="post-count"><span class="post-symbolcount"><span class="post-meta-item-icon" title="本文字数"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-file-word-line"></use></svg></span> <span title="本文字数">13k</span><span class="post-meta-divider">-</span><span class="post-meta-item-icon" title="阅读时长"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-timer-line"></use></svg></span> <span title="阅读时长">24 分钟</span></span></span><span class="leancloud_visitors" id="/2020/05/28/SFWRTECH-3IT3-Lab-1-Layer-3-and-4-Protocols/" data-flag-title="SFWRTECH 3IT3 Lab #1 Layer 3 and 4 Protocols"><span class="post-meta-divider">-</span><span class="post-meta-item-icon" title="阅读次数"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-eye-line"></use></svg> <span class="leancloud-visitors-count"></span></span></span><div class="post-classify"><span class="post-category"><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-folder-line"></use></svg></span> <span itemprop="about" itemscope itemtype="https://schema.org/Thing"><a class="category" href="/categories/Lab/" style="--text-color:var(--hty-text-color)" itemprop="url" rel="index"><span itemprop="text">Lab</span></a></span></span><span class="post-tag"><span class="post-meta-divider">-</span><a class="tag" href="/tags/SFWRTECH-3IT3/" style="--text-color:var(--hty-text-color)"><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-price-tag-3-line"></use></svg></span><span class="tag-name">SFWRTECH 3IT3</span></a></span></div></div></header><section class="post-body" itemprop="articleBody"><div class="post-content post-markdown"><p>Course section: SFWRTECH 3IT3:Fundamentals of Networking - SFWRTECH_3IT3_poonh_2205</p>
<p>SFWRTECH 3IT3 – Fundamentals of Networking<br>Lab #1: Layer 3 and 4 Protocols<br>Following &amp; Answers Record</p>
<a id="more"></a>

<h1 id="VM"><a href="#VM" class="headerlink" title="VM"></a>VM</h1><p>Default gateway : 10.0.2.1</p>
<p>Windows1 IP : 10.0.2.4<br>Windows2 IP : 10.0.2.5<br>CentOS01 IP : 10.0.2.8 (with httpd)<br>CentOS02 IP : 10.0.2.9</p>
<h2 id="Step-8"><a href="#Step-8" class="headerlink" title="Step 8"></a>Step 8</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ipconfig &#x2F;all</span><br></pre></td></tr></table></figure>

<h2 id="Step-9"><a href="#Step-9" class="headerlink" title="Step 9"></a>Step 9</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">netsh interface ipv4 set dns &quot;Ethernet&quot; static 8.8.8.8 primary</span><br><span class="line">netsh interface ipv4 add dns &quot;Ethernet&quot; 192.168.1.1</span><br><span class="line">ipconfig &#x2F;all</span><br></pre></td></tr></table></figure>

<p>Differences between dynamic and manual IP config:</p>
<ul>
<li>DHCP enabled in dynamic and disabled in manual</li>
<li>DHCP server in dynamic is 10.0.2.3 but disappeared in manual</li>
</ul>
<h2 id="Step-12"><a href="#Step-12" class="headerlink" title="Step 12"></a>Step 12</h2><p>Show ARP cache</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">arp -a</span><br></pre></td></tr></table></figure>

<p>Result:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">Physical Address of 10.0.2.4 : 08-00-27-c8-13-4b</span><br><span class="line"></span><br><span class="line">Interface: 10.0.2.4 --- 0x3</span><br><span class="line">internet Address | Physical Address | Type         | Purpose</span><br><span class="line">10.0.2.1           52-54-00-12-35-00  dynamic        Default Gateway</span><br><span class="line">10.0.2.3           08-00-27-75-7c-58  dynamic        DHCP Server</span><br><span class="line">10.0.2.5           08-00-27-2b-a4-3e  dynamic        Neighbouring VM</span><br><span class="line">10.0.2.255         ff-ff-ff-ff-ff-ff  static         Directed Broadcast</span><br><span class="line">224.0.0.22         01-00-5e-00-00-16  static</span><br><span class="line">224.0.0.251        01-00-5e-00-00-fb  static</span><br><span class="line">224.0.0.252        01-00-5e-00-00-fc  static</span><br><span class="line">255.255.255.255    ff-ff-ff-ff-ff-ff  static         Flooded Broadcast</span><br><span class="line"></span><br><span class="line">224.0.0.22 were appeared after browsing a website.</span><br><span class="line"></span><br><span class="line">Wireshark OUI Lookup Tool: https:&#x2F;&#x2F;www.wireshark.org&#x2F;tools&#x2F;oui-lookup.html</span><br><span class="line"></span><br><span class="line">OUI for 08-00-27 : PCS Computer Systems GmbH</span><br></pre></td></tr></table></figure>

<h2 id="Step-13"><a href="#Step-13" class="headerlink" title="Step 13"></a>Step 13</h2><p>Using <code>Windows1 10.0.2.4</code> ,<br>delete all entries in ARP cache <code>arp -d</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">arp -d</span><br><span class="line">arp -a</span><br><span class="line">ping 10.0.2.5</span><br><span class="line">arp -a</span><br></pre></td></tr></table></figure>

<p>A new entry <code>10.0.2.5 08-00-27-2b-a4-3e</code> was created in ARP cache after <code>ping 10.0.2.5</code>.</p>
<p>There is no ARP entry for default gateway because <code>Windows2 10.0.2.5</code> is in the same subnet that <code>Windows1 10.0.2.4</code> in, so data can be sent directly to neighbours and not to the gateway to handle further.</p>
<p>I can use <code>ipconfig</code> command to get the ARP entry for default gateway.</p>
<h2 id="Step-14"><a href="#Step-14" class="headerlink" title="Step 14"></a>Step 14</h2><p>After change MAC of <code>Windows2 10.0.2.5</code> from <code>08-00-27-2b-a4-3e</code> to <code>08-00-27-11-22-33</code> and run <code>arp -a</code> on <code>Windows1 10.0.2.4</code>, the ARP entry of <code>Windows2 10.0.2.5</code> is dynamically changed to <code>08-00-27-11-22-33</code>. (yes, if I switch Windows1 quickly enough, the MAC is not changed yet)</p>
<p>I ping to <code>Windows2 10.0.2.5</code> and receive 4 <code>Request timed out</code> after MAC changed.</p>
<h2 id="Step-15"><a href="#Step-15" class="headerlink" title="Step 15"></a>Step 15</h2><p>After I select “Turn on Windows Defender Firewall” under the<br>“Public network settings” on <code>Windows2 10.0.2.5</code>, <code>Windows1 10.0.2.4</code> receives 4 <code>Request timed out</code> on running <code>ping 10.0.2.5</code>.</p>
<h2 id="Step-19"><a href="#Step-19" class="headerlink" title="Step 19"></a>Step 19</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">su -</span><br><span class="line">yum -y install nc httpd</span><br><span class="line">yum -y install nc</span><br></pre></td></tr></table></figure>

<h2 id="Step-20"><a href="#Step-20" class="headerlink" title="Step 20"></a>Step 20</h2><p>Create <code>index.html</code> file</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;html&gt;&lt;body&gt;Hello World&lt;&#x2F;body&gt;&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure>

<p>Save to <code>/var/www/html/index.html</code></p>
<h2 id="Step-21"><a href="#Step-21" class="headerlink" title="Step 21"></a>Step 21</h2><p>Run <code>ifconfig</code> or <code>ip addr</code> on CentOS01, find device <code>enp0s3</code> with <code>inet 10.0.2.8/24</code></p>
<p>Run</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">firewall-cmd --zone&#x3D;public --add-port&#x3D;80&#x2F;tcp --permanent</span><br><span class="line">firewall-cmd --reload</span><br></pre></td></tr></table></figure>
<p>on CentOS01</p>
<p>Run <code>ifconfig</code> or <code>ip addr</code> on CentOS02, find device <code>enp0s3</code> with <code>inet 10.0.2.9/24</code></p>
<h2 id="Step-22"><a href="#Step-22" class="headerlink" title="Step 22"></a>Step 22</h2><p>Start Apache web server</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">systemctl enable httpd.service</span><br><span class="line">systemctl start httpd.service</span><br></pre></td></tr></table></figure>

<h2 id="Step-23"><a href="#Step-23" class="headerlink" title="Step 23"></a>Step 23</h2><p>I can see the “Hello World” page through <code>CentOS02 10.0.2.9</code> by browsing <code>10.0.2.8</code></p>
<h2 id="Step-24"><a href="#Step-24" class="headerlink" title="Step 24"></a>Step 24</h2><p>Run <code>nc -ul 1234</code> on <code>CentOS01 10.0.2.8</code> and <code>nc 10.0.2.8 -u 1234</code> on <code>CentOS02 10.0.2.9</code></p>
<p>Then type <code>abc</code> on <code>CentOS02 10.0.2.9</code> and press Enter. I receive “no route to host”.</p>
<p>Then release port number <code>1234</code> using <code>udp</code> from firewall of <code>CentOS01 10.0.2.8</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">firewall-cmd --zone&#x3D;public --add-port&#x3D;1234&#x2F;udp --permanent</span><br><span class="line">firewall-cmd --reload</span><br></pre></td></tr></table></figure>

<h2 id="Step-25"><a href="#Step-25" class="headerlink" title="Step 25"></a>Step 25</h2><p>If I first try to send a message from <code>CentOS01 10.0.2.8</code>, nothing happens, because UDP protocal is connectionless. The server <code>CentOS01 10.0.2.8</code> is just listening to <code>port 1234</code> but it does not have connection to the client <code>CentOS02 10.0.2.9</code> because the client <code>CentOS02 10.0.2.9</code> does not need to build connection with the server <code>CentOS01 10.0.2.8</code> very firstly before sending out messages.</p>
<h2 id="Step-26"><a href="#Step-26" class="headerlink" title="Step 26"></a>Step 26</h2><p>Run <code>nc -l 5678</code> on <code>CentOS01 10.0.2.8</code> and <code>nc 10.0.2.8 5678</code> on <code>CentOS02 10.0.2.9</code>.</p>
<p>This returns “no route to host” again because <code>port 5678</code> is not released from the firewall. A TCP <code>RST</code> flag is sent back to <code>CentOS02 10.0.2.9</code> so <code>CentOS02 10.0.2.9</code> knows the connection is aborted.</p>
<h2 id="Step-27"><a href="#Step-27" class="headerlink" title="Step 27"></a>Step 27</h2><p>Release port number <code>5678</code> using <code>tcp</code> from firewall of <code>CentOS01 10.0.2.8</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">firewall-cmd --zone&#x3D;public --add-port&#x3D;5678&#x2F;tcp --permanent</span><br><span class="line">firewall-cmd --reload</span><br></pre></td></tr></table></figure>

<h2 id="Step-28"><a href="#Step-28" class="headerlink" title="Step 28"></a>Step 28</h2><p>I first try to send a message from the server <code>CentOS01 10.0.2.8</code>, and the client <code>CentOS02 10.0.2.9</code> gets the message because both sides must have connection built under TCP protocal before any messages sent.</p>
<p>When I press <code>CTRL + C</code> on the client <code>CentOS02 10.0.2.9</code>, the server <code>CentOS01 10.0.2.8</code> is also down because the client <code>CentOS02 10.0.2.9</code> sends out a <code>FIN</code> flag and expects to end the connection. The server <code>CentOS01 10.0.2.8</code> sends a <code>FIN</code> flag again with a <code>ACK</code> flag for confirming, and the client <code>CentOS02 10.0.2.9</code> confirms that. TCP protocal only allows point to point transport due to one connection.</p>
<h2 id="Step-29"><a href="#Step-29" class="headerlink" title="Step 29"></a>Step 29</h2><p>Run <code>route -n</code> on <code>CentOS01 10.0.2.8</code> to identify the default gateway.</p>
<p>Run <code>cat /etc/resolv.conf</code> on <code>CentOS01 10.0.2.8</code> to check DNS config.</p>
<h2 id="Post-Lab-Questions"><a href="#Post-Lab-Questions" class="headerlink" title="Post-Lab Questions"></a>Post-Lab Questions</h2><p>An ARP cache may contain multiple entries with the same MAC address, even though the IP addresses listed are different. This commonly occurs in some networks. Describe the configuration of network devices that could result in this behaviour.</p>
<p>Answer:</p>
<ol>
<li>A network with hosts that have a NIC binded with multiple IP addresses</li>
<li>Web server binded with IP addresses, so that the website can be surfed through multiple IP addresses</li>
</ol>
<p>In classful IP addressing, what classful network would your Windows and CentOS IP addresses normally belong to? What “class” do they actually belong to, and why? Write the network address for the VMs in CIDR notation. What is the maximum number of hosts that can be configured in this subnet?</p>
<p>Answer:<br>Subnet Mask is <code>255.255.255.0</code> so it is actually a <code>Class C</code> =&gt; Network Address <code>10.0.2.0/24</code>. Number of possible hosts: <code>2 ^ 8 - 2 = 254</code>.</p>
<p>How could a computer detect an IP address conflict in the network when starting up, before it finishes loading its own IP network configuration? In other words, how could a computer determine whether an IP address is already in use on the network before it attempts to configure its network interface using the same address (which would then result in a conflict)?</p>
<p>Answer:</p>
<ol>
<li>Ask DHCP server to get a valid IP address.</li>
<li>Ping all possible IP addresses to see which is not in use.</li>
</ol>
</div><div id="reward-container"><span class="hty-icon-button button-glow" id="reward-button" title="打赏" onclick="var qr = document.getElementById(&quot;qr&quot;); qr.style.display = (qr.style.display === &quot;none&quot;) ? &quot;block&quot; : &quot;none&quot;;"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-hand-coin-line"></use></svg></span><div id="reward-comment">我很可爱，请给我钱</div><div id="qr" style="display:none;"><div style="display:inline-block"><a href="https://cdn.jsdelivr.net/gh/YunYouJun/cdn/img/donate/alipay-qrcode.jpg" target="_blank" rel="noopener"><img loading="lazy" src="https://cdn.jsdelivr.net/gh/YunYouJun/cdn/img/donate/alipay-qrcode.jpg" alt="支付宝" title="支付宝"></a><div><span style="color:#00A3EE"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-alipay-line"></use></svg></span></div></div><div style="display:inline-block"><a href="https://cdn.jsdelivr.net/gh/YunYouJun/cdn/img/donate/qqpay-qrcode.png" target="_blank" rel="noopener"><img loading="lazy" src="https://cdn.jsdelivr.net/gh/YunYouJun/cdn/img/donate/qqpay-qrcode.png" alt="QQ 支付" title="QQ 支付"></a><div><span style="color:#12B7F5"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-qq-line"></use></svg></span></div></div><div style="display:inline-block"><a href="https://cdn.jsdelivr.net/gh/YunYouJun/cdn/img/donate/wechatpay-qrcode.jpg" target="_blank" rel="noopener"><img loading="lazy" src="https://cdn.jsdelivr.net/gh/YunYouJun/cdn/img/donate/wechatpay-qrcode.jpg" alt="微信支付" title="微信支付"></a><div><span style="color:#2DC100"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-wechat-pay-line"></use></svg></span></div></div></div></div><ul class="post-copyright"><li class="post-copyright-author"><strong>本文作者：</strong>崬少</li><li class="post-copyright-link"><strong>本文链接：</strong><a href="https://zhujiandong.cn/2020/05/28/SFWRTECH-3IT3-Lab-1-Layer-3-and-4-Protocols/" title="SFWRTECH 3IT3 Lab #1 Layer 3 and 4 Protocols">https://zhujiandong.cn/2020/05/28/SFWRTECH-3IT3-Lab-1-Layer-3-and-4-Protocols/</a></li><li class="post-copyright-license"><strong>版权声明：</strong>本博客所有文章除特别声明外，均默认采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" rel="noopener" title="CC BY-NC-SA 4.0 "><svg class="icon"><use xlink:href="#icon-creative-commons-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-by-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-nc-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-sa-line"></use></svg></a> 许可协议。</li></ul></section></article><div class="post-nav"><div class="post-nav-item"><a class="post-nav-prev" href="/2020/06/08/hello-world/" rel="prev" title="Hello World"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-left-s-line"></use></svg><span class="post-nav-text">Hello World</span></a></div><div class="post-nav-item"><a class="post-nav-next" href="/2020/05/17/share/third-party-comment-system/" rel="next" title="第三方评论系统之我见"><span class="post-nav-text">第三方评论系统之我见</span><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-right-s-line"></use></svg></a></div></div></div><div id="comment"><div class="comment-tooltip text-center"><span>因为 Valine 我保不准哪天就会因为种种原因抛弃它了。</span><br><span>所以如果是重要的评论，建议跳转 GitHub Issues 发表。</span><br><span>若没有本文 Issue，您可以使用 Comment 模版新建。</span><br><a class="hty-button hty-button--raised" id="github-issues" href="https://github.com/YunYouJun/yunyoujun.github.io/issues?q=is:issue+SFWRTECH 3IT3 Lab #1 Layer 3 and 4 Protocols" target="_blank" rel="noopener">GitHub Issues</a></div><div id="valine-container"></div><script src="https://cdn.jsdelivr.net/npm/valine@latest/dist/Valine.min.js"></script><script>function initValine() {
  const valineConfig = {"enable":true,"appId":"4x0IwQ1sy95mOGQDTO8MYCeA-gzGzoHsz","appKey":"9loqwF3UDklPDHaP9IN2uwN8","placeholder":"大佬求指教&nbsp_(:з」∠)_ （填写邮箱可以收到回复通知～）","visitor":true,"recordIP":true,"enableQQ":true,"requiredFields":["nick","mail"],"avatar":null,"pageSize":10,"highlight":true,"el":"#valine-container","lang":"zh-cn"}
  valineConfig.path = window.location.pathname
  new Valine(valineConfig)
}
setTimeout(initValine, 1000)</script></div></main><footer class="sidebar-translate" id="footer"><div class="beian"><a rel="noopener" href="http://www.beian.miit.gov.cn" target="_blank">苏ICP备17038157号</a></div><div class="copyright"><span>&copy; 2020 </span><span class="with-love" id="animate"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-cloud-line"></use></svg></span><span class="author"> 崬少</span></div><div class="powered"><span>由 <a href="https://hexo.io" target="_blank" rel="noopener">Hexo</a> 驱动 v4.2.1</span><span class="footer-separator">|</span><span>主题 - <a rel="noopener" href="https://github.com/YunYouJun/hexo-theme-yun" target="_blank"><span>Yun</span></a> v0.8.1</span></div><div class="footer-custom-text"><a style="display:inline-block" href="https://www.upyun.com/?utm_source=lianmeng&utm_medium=referral" target="blank" title="又拍云"><img height="30" src="https://cdn.jsdelivr.net/gh/YunYouJun/cdn/img/logo/upyun-logo.png" alt="upyun"/></a></div></footer><a class="hty-icon-button" id="goUp" aria-label="back-to-top" href="#"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-up-s-line"></use></svg><svg class="progress-circle-container" viewBox="0 0 100 100"><circle class="progress-circle" id="progressCircle" cx="50" cy="50" r="48" fill="none" stroke="#0078E7" stroke-width="2" stroke-linecap="round"></circle></svg></a><a class="popup-trigger hty-icon-button icon-search" id="search" href="javascript:;" title="搜索"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-search-line"></use></svg></span></a><script>window.addEventListener("DOMContentLoaded", () => {
  // Handle and trigger popup window
  document.querySelector(".popup-trigger").addEventListener("click", () => {
    document.querySelector(".popup").classList.add("show");
    setTimeout(() => {
      document.querySelector(".search-input").focus();
    }, 100);
  });

  // Monitor main search box
  const onPopupClose = () => {
    document.querySelector(".popup").classList.remove("show");
  };

  document.querySelector(".popup-btn-close").addEventListener("click", () => {
    onPopupClose();
  });

  window.addEventListener("keyup", event => {
    if (event.key === "Escape") {
      onPopupClose();
    }
  });
});
</script><script defer src="https://cdn.jsdelivr.net/npm/algoliasearch@4/dist/algoliasearch-lite.umd.js"></script><script defer src="https://cdn.jsdelivr.net/npm/instantsearch.js@4/dist/instantsearch.production.min.js"></script><script defer src="/js/search/algolia-search.js"></script><div class="popup search-popup"><div class="search-header"><span class="popup-btn-close close-icon hty-icon-button"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-close-line"></use></svg></span></div><div class="search-input-container"></div><div class="algolia-results"><div id="algolia-stats"></div><div id="algolia-hits"></div><div class="algolia-pagination" id="algolia-pagination"></div></div></div></div><script defer src="/js/utils.js"></script><script defer src="/js/hexo-theme-yun.js"></script></body></html>